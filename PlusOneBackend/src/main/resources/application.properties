server.port=${PORT:8080}

# CORS: comma-separated list (supports wildcards via allowed origin patterns)
# Prefer APP_CORS_ALLOWED_ORIGINS (Render env var), fall back to legacy CORS_ALLOWED_ORIGINS, then defaults
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000,https://plus-one-delta.vercel.app,https://plus-one-delta-git-*.vercel.app}}
# Cookies if you use session auth:
server.servlet.session.cookie.same-site=none
server.servlet.session.cookie.secure=true

# Mongo connection (prefers env var, falls back to the Atlas URI)
spring.data.mongodb.uri=${SPRING_DATA_MONGODB_URI:mongodb+srv://simon_pltk:489ZAayM8dR6reDJ@plus1cluster.zbqjgkf.mongodb.net/?appName=plus1cluster}
# Explicit DB name to satisfy MongoTemplate
spring.data.mongodb.database=${SPRING_DATA_MONGODB_DATABASE:plusone}

# JWT configuration (use a 32+ character secret; replace this for your env)
app.jwt.secret=${APP_JWT_SECRET:local-dev-secret-change-me-please-32-chars-min}
app.jwt.expiration-ms=${APP_JWT_EXPIRATION_MS:1296000000}
app.jwt.cookie.secure=${APP_COOKIE_SECURE:false}
app.jwt.cookie.same-site=${APP_COOKIE_SAME_SITE:Lax}

# Send Grid Automated Mailing
spring.mail.host=${MAIL_HOST:localhost}
spring.mail.port=${MAIL_PORT:1025}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# default From address your service will use
app.mail.from=${MAIL_FROM:sarahdzeng@gmail.com}

# (SSE-based realtime now shares the same HTTP port; no separate socket service required)
